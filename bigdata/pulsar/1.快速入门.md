# 快速使用
## 本地安装Pulsar
* 单机模式pulsar需要pulsar broker、必要的zookeeper和BookKeeper组件

### 下载二进制包
```shell
wget https://archive.apache.org/dist/pulsar/pulsar-2.8.0/apache-pulsar-2.8.0-bin.tar.gz
tar xvfz apache-pulsar-2.8.0-bin.tar.gz
cd apache-pulsar-2.8.0
```

#### 安装分层存储携带程序

```shell
wget https://archive.apache.org/dist/pulsar/pulsar-2.8.0/apache-pulsar-offloaders-2.8.0-bin.tar.gz
# 解压目录拷贝至pulsar/offloaders
mv apache-pulsar-offloaders-2.8.0/offloaders offloaders
```

### 启动单机模式Pulsar
```shell
bin/pulsar standalone
```

### 使用单机模式Pulsar

#### Consume消息
```shell
bin/pulsar-client consume my-topic -s "first-subscription"
```

#### Produce消息
```shell
bin/pulsar-client produce my-topic --messages "hello-pulsar"
```

### 终止单机模式Pulsar
* Ctrl+C终止单机模式Pulsar的运行

## Docker里配置单机Pulsar
### docker中启动Pulsar
```shell
docker run -it -p 6650:6650  -p 8080:8080 --mount source=pulsardata,target=/pulsar/data --mount source=pulsarconf,target=/pulsar/conf apachepulsar/pulsar:2.8.0 bin/pulsar standalone
```
### 在Docker中运行Pulsar

* pulsar://localhost:6650
* http://localhost:8080

### 获取topic数据
```shell
curl http://localhost:8080/admin/v2/persistent/public/default/my-topic/stats | python -m json.tool
```